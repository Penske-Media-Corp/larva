{% set tokens = query.tokens ? '?tokens=' ~ query.tokens : '' %}

{% if 'larva' == source %}
	{% set patterns = pattern_nav.larva %}
{% else %}
	{% set patterns = pattern_nav.project %}
{% endif %}

<nav style="width: 200px">
	<h3 class="lrv-u-padding-r-1">{{ source|capitalize }}</h3>

	{% if 'larva' == source %}
		<ul class="lrv-a-unstyle-list">
			<li><a class="lrv-u-display-block" href="/css">Larva CSS Docs</a></li>
			<li><a class="lrv-u-display-block" href="/style-guide">Style Guide</a></li>
		</ul>
	{% endif %}

	<h4 class="lrv-u-padding-tb-050">Template Tests (.html)</h4>

	<ul class="lrv-a-unstyle-list">
		{% for t in patterns.tests %}

			{# Note:
				This logic will be removed when nav is generated
				from pattern object.
			#}
			{% if 'fixture' not in t   %}
				{% include "@larva/components/c-link/c-link.twig" with {
					c_link_text: t,
					c_link_classes: 'lrv-u-display-block',
					c_link_url: "/" ~ source ~ "/__tests__/" ~ t ~ "/" ~ tokens,
				} %}
			{% endif %}
		{% endfor %}

	</ul>

	<h4 class="lrv-u-padding-tb-050">Components</h4>

	<ul class="lrv-a-unstyle-list">
		{% for c in patterns.components %}
			<li>
				{% include "@larva/components/c-link/c-link.twig" with {
					c_link_text: c,
					c_link_classes: 'lrv-u-display-block',
					c_link_url: "/" ~ source ~ "/components/" ~ c ~ "/" ~ tokens,
				} %}
			</li>
		{% endfor %}
	</ul>

	<h4 class="lrv-u-padding-tb-050">Objects</h4>
	<ul class="lrv-a-unstyle-list">
		{% for o in patterns.objects %}
			{% include "@larva/components/c-link/c-link.twig" with {
				c_link_text: o,
				c_link_classes: 'lrv-u-display-block',
				c_link_url: "/" ~ source ~ "/objects/" ~ o ~ "/",
			} %}
		{% endfor %}
	</ul>

	<h4 class="lrv-u-padding-tb-050">Modules</h4>
	<ul class="lrv-a-unstyle-list">
		{% for m in patterns.modules %}
			{% include "@larva/components/c-link/c-link.twig" with {
				c_link_text: m,
				c_link_classes: 'lrv-u-display-block',
				c_link_url: "/" ~ source ~ "/modules/" ~ m ~ "/" ~ tokens,
			} %}
		{% endfor %}
	</ul>

	{% if 'project' == source %}

		<h4 class="lrv-u-padding-tb-050">One-offs (.html)</h4>

		<ul class="lrv-a-unstyle-list">
			{% for o in patterns.oneOffs %}
				{% include "@larva/components/c-link/c-link.twig" with {
					c_link_text: o,
					c_link_classes: 'lrv-u-display-block',
					c_link_url: "/" ~ source ~ "/one-offs/" ~ o ~ "/" ~ tokens,
				} %}
			{% endfor %}
		</ul>

	{% endif %}

</nav>