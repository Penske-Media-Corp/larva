$gutter: 1.25rem;


@mixin _u-grid-base {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;

	@supports ( display: grid ) {
		--cols: 1;

		display: grid;
		grid-gap: $gutter;
		grid-template-columns: repeat( var(--cols), 1fr);
	}
}

@mixin _u-grid\@breakpoint( $breakpoint ) {
	
	@include pmc-breakpoint( $breakpoint ) {
		@include _u-grid-base;
	}
}

@mixin _u-grid-item-base( $cols, $total-columns ) {
	flex-basis: calc( ( #{$cols} / #{$total-columns} * 100% ) - #{($gutter * $total-columns - 1) / ($total-columns) } );
			
	@supports (display: grid) {
		grid-column: span $cols;
	}
}

@mixin _u-grid-item( $cols, $total-columns, $breakpoint: '' ) {
	margin-bottom: $gutter;
	
	@if $breakpoint != '' {
		@include pmc-breakpoint( $breakpoint ) {
			@include _u-grid-item-base( $cols, $total-columns );
		}
	} @else {
		@include _u-grid-item-base( $cols, $total-columns );
	}

	@supports (display: grid) {
		margin-bottom: 0;
	}
}

%u-grid-base {
	@include _u-grid-base;
}

.pmc-u-grid--1-col {

	> * + * {
		margin-top: $gutter;
	}

	@supports ( display: grid ) {
		--cols: 1;

		display: grid;
		grid-gap: $gutter;
		grid-template-columns: repeat( var(--cols), 1fr);
		
		> * + * {
			margin-top: 0;
		}

	}
}

%u-grid-base\@tablet {
	@include _u-grid\@breakpoint( tablet );
}

%u-grid-base\@desktop {
	@include _u-grid\@breakpoint( desktop );
}

.pmc-u-grid--2-cols {
	@extend %u-grid-base;

	--cols: 2;
	
	.pmc-u-grid-item {
		@include _u-grid-item( 1, 2 );
	}
}

.pmc-u-grid--3-cols\@tablet {
	@extend %u-grid-base\@tablet;
	
	@include pmc-breakpoint( tablet ) {
		--cols: 3;
	}
	
	.pmc-u-grid-item {
		@include _u-grid-item( 1, 3, tablet );
	}
}

.pmc-u-grid--4-cols\@desktop {
	@extend %u-grid-base\@desktop;

	.pmc-u-grid-item {
		@include _u-grid-item( 1, 4, desktop );
	}
	
	@include pmc-breakpoint( desktop ) {
		@include _u-grid\@breakpoint( desktop );
		
		--cols: 4 !important;
	}
}

.pmc-u-grid--5-cols\@desktop {
	@extend %u-grid-base\@desktop;
	
	.pmc-u-grid-item {
		@include _u-grid-item( 1, 5, desktop );
	}

	@include pmc-breakpoint( desktop ) {
		@include _u-grid\@breakpoint( desktop );

		--cols: 5 !important;
	}
}


.pmc-u-grid-item {
	margin-bottom: $gutter;

	@supports ( display: grid ) {
		margin-bottom: 0;
	}
}

.pmc-u-grid-item--span-2\@tablet {
	@include _u-grid-item( 2, 3, tablet );
}









.box {
	position: relative;
	background-color: skyblue;
	border: 1px dotted coral;
	min-height: 100px;
}

.box-inner {
	background-color: coral;
	border: 1px dotted lemonchiffon;
}

.box::after {
	font-size: 10vw;
	position: absolute;
	color: aquamarine;
	top: 0;
	left: 0;
}

.box1::after {
	content: '1';
}

.box2::after {
	content: '2';	
}

body {
	margin: 1rem;
}

// This might be useful to enable/disable in pattern library

body::after {
	position: fixed;
	bottom: 0;
	right: 0;
	padding: 1rem 2rem;
	background-color: navy;
	color: yellow;
	content: 'between mobile and tablet';
	
	@media( max-width: $pmc-screen-mobile ) {
		content: 'mobile-max';
		background-color: dodgerblue;
	}
	
	@media( min-width: $pmc-screen-tablet ) {
		content: 'tablet';
		background-color: indianred;
	}
	
	@media( min-width: $pmc-screen-desktop ) {
		content: 'desktop';
		background-color: green;
	}
}

// Display utility - need to make this.

.u-display-none {
	display: none;
}

.u-display-block\@tablet {

	@media( min-width: $pmc-screen-tablet ) {
		display: block;
	}
}
